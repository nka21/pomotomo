# ポモとも!
## 🎯 サービス概要
### 目的：
友達や仲間と“部屋”を作り、同じタイミングでポモドーロ・テクニックに基づいた作業・休憩サイクルを共有できる、超シンプルなタイマーWebアプリ。
### 体験：
- 部屋名を決めて「作業開始」→全員が同じタイマー進行を見て集中できる
- 途中参加も可能。入室時点のタイマー状態に同期
## 📦 主な機能・要件
### 部屋作成/参加
- ホーム画面「作業を開始する」ボタン→部屋名入力モーダル
- 既存部屋名なら参加、未使用なら新規作成
- 部屋名20文字まで、重複NG（エラー表示）
- 最大10人/部屋
### タイマー仕様
- 作業25分＋休憩5分、4サイクルで長休憩15分のポモドーロ固定 ([wiki](https://ja.wikipedia.org/wiki/%E3%83%9D%E3%83%A2%E3%83%89%E3%83%BC%E3%83%AD%E3%83%BB%E3%83%86%E3%82%AF%E3%83%8B%E3%83%83%E3%82%AF))
- フェーズの開始時刻、状態（作業/休憩/長休憩）、サイクル回数をサーバーで管理
- 入室時点でのタイマー状態に同期
- 作業/休憩終了時は効果音
- 全員退出で部屋・タイマー自動削除
### UI/UX
- シンプル導線：「作業を開始する」→部屋名入力→タイマー画面
- スマホ・PCどちらもレスポンシブ対応
- 進行状況・残り時間・部屋の参加人数を常に表示
- リロード時はホーム画面に戻す
## 💻 技術選定
- Next.js(15) + TypeScript
- パッケージマネージャー: pnpm
- Turbopackで構築
- データ永続化なし（全員退出で部屋情報クリア、メモリ管理）
- API設計はRESTベース、Swagger（swagger.yaml）で仕様管理
## 🔗 API設計（サマリ）
| エンドポイント                   | 概要     | メソッド | 主なレスポンス                                             |
| ------------------------- | ------ | ---- | --------------------------------------------------- |
| `/rooms`                  | 部屋作成   | POST | success/エラー, roomName                               |
| `/rooms/{roomName}`       | 部屋情報取得 | GET  | exists, participants, timerState                    |
| `/rooms/{roomName}/join`  | 部屋参加   | POST | success/エラー, timerState                             |
| `/rooms/{roomName}/leave` | 部屋退出   | POST | success/エラー                                         |
| `/rooms/{roomName}/timer` | タイマー取得 | GET  | startedAt, phase, phaseSeconds, cycle, participants |
- 各APIは success または error を返す
- 部屋名: 20文字まで、バリデーションあり、XSSなどの脆弱性対策必須
- 参加人数: 最大10人（サーバー側で制限）
## 🧑‍💻 ユーザー識別
- 匿名UUIDをローカルストレージ管理、APIリクエストにuserIdで付与
## 🚨 セキュリティ・脆弱性対策
- 部屋名入力時のXSS対策
- 必要最低限のバリデーション実装
## 📝 その他
- テスト/CI/CDやホスティングは“後回し”
